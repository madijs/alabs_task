{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nexport const useLocalStorage = (key, initialValue) => {\n  _s();\n\n  const [state, setState] = useState(() => {\n    if (!initialValue) console.log('hello');\n\n    try {\n      console.log(initialValue);\n      const value = localStorage.getItem(key);\n      return value ? JSON.parse(value) : initialValue;\n    } catch (e) {\n      return initialValue;\n    }\n  });\n\n  if (!localStorage.getItem(key) || !initialValue) {\n    if (!initialValue) localStorage.setItem(key, '');\n  }\n\n  useEffect(() => {\n    if (state) {\n      console.log(state);\n\n      try {\n        localStorage.setItem(key, JSON.stringify(state));\n        console.log(state);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }, [state]);\n  return [state, setState];\n};\n\n_s(useLocalStorage, \"1+TLeecubpeN5cazjwoAkAFA/do=\");","map":{"version":3,"sources":["/Users/madibikamalov/Desktop/my-app/src/tools/useLocalStorage.tsx"],"names":["useState","useEffect","useLocalStorage","key","initialValue","state","setState","console","log","value","localStorage","getItem","JSON","parse","e","setItem","stringify"],"mappings":";;AAAA,SAAeA,QAAf,EAAwBC,SAAxB,QAAwC,OAAxC;AAOA,OAAO,MAAMC,eAAe,GAAG,CAAMC,GAAN,EAAmBC,YAAnB,KAAwD;AAAA;;AACnF,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAU,MAAI;AAC5C,QAAI,CAACI,YAAL,EAAmBG,OAAO,CAACC,GAAR,CAAY,OAAZ;;AACnB,QAAG;AACCD,MAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAZ;AACA,YAAMK,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqBR,GAArB,CAAd;AACA,aAAOM,KAAK,GAAGG,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAH,GAAuBL,YAAnC;AACH,KAJD,CAIC,OAAOU,CAAP,EAAU;AACP,aAAOV,YAAP;AACH;AACJ,GATiC,CAAlC;;AAWA,MAAI,CAACM,YAAY,CAACC,OAAb,CAAqBR,GAArB,CAAD,IAA8B,CAACC,YAAnC,EAAgD;AAC5C,QAAI,CAACA,YAAL,EAAmBM,YAAY,CAACK,OAAb,CAAqBZ,GAArB,EAAyB,EAAzB;AACtB;;AAGDF,EAAAA,SAAS,CAAC,MAAI;AACV,QAAII,KAAJ,EAAU;AACNE,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;;AACA,UAAG;AACCK,QAAAA,YAAY,CAACK,OAAb,CAAqBZ,GAArB,EAA0BS,IAAI,CAACI,SAAL,CAAeX,KAAf,CAA1B;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACH,OAHD,CAGC,OAAOS,CAAP,EAAU;AACPP,QAAAA,OAAO,CAACC,GAAR,CAAYM,CAAZ;AACH;AACJ;AACJ,GAVQ,EAUP,CAACT,KAAD,CAVO,CAAT;AAYA,SAAO,CAACA,KAAD,EAAOC,QAAP,CAAP;AACH,CA9BM;;GAAMJ,e","sourcesContent":["import React, {useState,useEffect} from 'react'\n\ntype ReturnType<T> = [\n    T | any,\n    React.Dispatch<React.SetStateAction<T | undefined>>\n]\n\nexport const useLocalStorage = <T,> (key: string, initialValue?: T) : ReturnType<T> => {\n    const [state, setState] = useState<T | any>(()=>{\n        if (!initialValue) console.log('hello');\n        try{\n            console.log(initialValue);\n            const value = localStorage.getItem(key);\n            return value ? JSON.parse(value) : initialValue;\n        }catch (e) {\n            return initialValue;\n        }\n    });\n\n    if (!localStorage.getItem(key) || !initialValue){\n        if (!initialValue) localStorage.setItem(key,'');\n    }\n\n\n    useEffect(()=>{\n        if (state){\n            console.log(state);\n            try{\n                localStorage.setItem(key, JSON.stringify(state))\n                console.log(state)\n            }catch (e) {\n                console.log(e)\n            }\n        }\n    },[state]);\n\n    return [state,setState]\n};\n\n"]},"metadata":{},"sourceType":"module"}